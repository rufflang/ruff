# Test edge cases for JIT

print("=== Testing Edge Cases ===")

# Test 1: Function with no parameters
print("Test 1: No parameters")
func get_constant() {
    return 42
}
result1 := get_constant()
print("get_constant() =", result1, "(expected 42)")

# Trigger JIT
for i in range(100) {
    get_constant()
}
print("✓ Called 100 times")

# Test 2: Many parameters
print("Test 2: Five parameters")
func sum_five(a, b, c, d, e) {
    return a + b + c + d + e
}
result2 := sum_five(1, 2, 3, 4, 5)
print("sum_five(1,2,3,4,5) =", result2, "(expected 15)")

# Trigger JIT
for i in range(100) {
    sum_five(i, i+1, i+2, i+3, i+4)
}
print("✓ Called 100 times")

# Test 3: Returning constants
print("Test 3: Return constants")
func return_zero() {
    return 0
}
func return_one() {
    return 1
}
func return_hundred() {
    return 100
}

print("return_zero() =", return_zero(), "(expected 0)")
print("return_one() =", return_one(), "(expected 1)")
print("return_hundred() =", return_hundred(), "(expected 100)")

for i in range(100) {
    return_zero()
    return_one()
    return_hundred()
}
print("✓ Each called 100 times")

# Test 4: Local variables
print("Test 4: Local variables")
func compute_with_locals(x) {
    local1 := x * 2
    local2 := local1 + 5
    local3 := local2 * 3
    result := local3 - 10
    return result
}

result4 := compute_with_locals(10)
print("compute_with_locals(10) =", result4, "(expected 65)")

for i in range(100) {
    compute_with_locals(i)
}
print("✓ Called 100 times")

# Test 5: Countdown recursion
print("Test 5: Countdown recursion")
func countdown(n) {
    if n <= 0 {
        return 0
    }
    return countdown(n - 1) + 1
}

result5 := countdown(10)
print("countdown(10) =", result5, "(expected 10)")
result6 := countdown(20)
print("countdown(20) =", result6, "(expected 20)")

# Test 6: Max with simple conditionals
print("Test 6: Simple conditionals")
func max_two(a, b) {
    if a >= b {
        return a
    }
    return b
}

print("max_two(5, 3) =", max_two(5, 3), "(expected 5)")
print("max_two(2, 8) =", max_two(2, 8), "(expected 8)")

for i in range(100) {
    max_two(i, i+1)
}
print("✓ Called 100 times")

print("=== All Edge Cases Passed ===")
